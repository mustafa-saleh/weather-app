(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),i=(n(60),n(10)),l=n.n(i),u=n(24),s=n(19),m=n(11),f=n(42),d=function(e){return r.a.createElement("span",null,r.a.createElement(f.a,Object.assign({color:"#767676",size:"lg"},e)))},h=n(106),p=n(103),v=n(43),g=n(44),E=n(54),b=n(53),y=n(33);function w(e){return 0===Object.entries(e).length}var k=function(e){Object(E.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).mapClicked=function(t,n,a){var r={lat:a.latLng.lat(),lng:a.latLng.lng()};e.props.setMarker(r)},e}return Object(g.a)(n,[{key:"render",value:function(){return this.props.google?r.a.createElement("div",{style:{position:"relative",height:"calc(60vh)"}},r.a.createElement(y.Map,{zoom:2,onClick:this.mapClicked,google:this.props.google,initialCenter:{lat:15.5007,lng:32.5599}},w(this.props.marker)?null:r.a.createElement(y.Marker,{draggable:!0,position:this.props.marker,icon:{url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png"}}))):r.a.createElement("div",null,"Loading...")}}]),n}(a.Component),O=Object(y.GoogleApiWrapper)({apiKey:"AIzaSyD3s785xPg5XvFY5XOBUy6JiyOIcZOsyFQ"})(k),j=(n(82),function(e){var t=e.show,n=e.close,c=e.fetchWeather,o=Object(a.useState)({}),i=Object(m.a)(o,2),l=i[0],u=i[1],s=function(){return n()};return r.a.createElement(h.a,{show:t,onHide:s,centered:!0,size:"lg"},r.a.createElement(h.a.Body,null,r.a.createElement(O,{marker:l,setMarker:u})),r.a.createElement(h.a.Footer,null,r.a.createElement(p.a,{variant:"light",size:"sm",onClick:s},"Close"),r.a.createElement(p.a,{variant:"info",size:"sm",onClick:function(){w(l)||(c(l),n())}},"Search Location")))}),x=n(34),C=(n(83),function(e){var t=e.searchText,n=e.setSearchText,a=e.fetchWeather,c=function(e){e.preventDefault(),t.trim().length>0&&a(t.trim())};return r.a.createElement("form",{onSubmit:function(e){return c(e)}},r.a.createElement("input",{placeholder:"search city",value:t,onChange:function(e){return n(e.target.value)}}),t.length?r.a.createElement(d,{icon:x.c,onClick:function(){return n("")}}):null,r.a.createElement(d,{icon:x.b,color:"#1287A5",onClick:function(e){return c(e)}}))}),S=function(e){var t=e.fetchWeather,n=Object(a.useState)(!1),c=Object(m.a)(n,2),o=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{icon:x.a,size:"xs"}),r.a.createElement("small",{onClick:function(){return i(!0)}},"use google maps"),r.a.createElement(j,{show:o,close:function(){return i(!1)},fetchWeather:t}))},M=function(e){var t=e.fetchByCity,n=e.fetchByCoords,c=Object(a.useState)(""),o=Object(m.a)(c,2),i={searchText:o[0],setSearchText:o[1],fetchWeather:t};return r.a.createElement("div",{id:"search-bar"},r.a.createElement(C,i),r.a.createElement(S,{fetchWeather:n}))},T=(n(84),function(e){var t=e.city;return r.a.createElement("div",{id:"location"},"".concat(t.name,", ").concat(t.country),r.a.createElement("br",null),r.a.createElement("small",null,"Updated a few minutes ago"))}),A=(n(85),n(49)),W=n.n(A),z=(n(86),function(e){var t=e.visibility,n=e.humidity,a=e.wind;return r.a.createElement("div",{className:"other-info"},r.a.createElement("div",null,"Vision: ",Math.round(t/1e3)," KM"),r.a.createElement("div",null,"Wind: ",Math.round(a.speed)," KMPH"),r.a.createElement("div",null,"Humidity: ",n,"%"))}),N=function(e){var t=e.main;e.weather;return r.a.createElement("div",{className:"main-info"},r.a.createElement("img",{src:W.a,alt:"weather logo"}),r.a.createElement("p",null,Math.round(t.temp)),r.a.createElement("div",{className:"temperature"},r.a.createElement("div",null,"\xb0C"),r.a.createElement("button",{id:"feh-button",className:"btn btn-link"},"F")),r.a.createElement("div",null,r.a.createElement("div",null,Math.round(t.temp_max),"\xb0"),r.a.createElement("div",null,Math.round(t.temp_min),"\xb0")))},F=function(e){var t=e.currentWeather;return r.a.createElement("div",{className:"info"},r.a.createElement(N,{main:t.main,weather:t.weather}),r.a.createElement(z,{visibility:t.visibility,humidity:t.main.humidity,wind:t.wind}))},P=(n(87),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);function B(e,t){var n=new Date(0),a=e+t;n.setUTCSeconds(a);var r;return"\n  ".concat((r=n,P[r.getDay()])," ").concat(n.getDate(),", ").concat(n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",timeZone:"UTC"}),"\n  ")}var D=function(e){var t=e.description,n=e.dt,a=e.timezone;return r.a.createElement("div",{className:"date-time"},r.a.createElement("div",null,t),r.a.createElement("div",null,B(n,a)))},R=n(104),L=n(107),_=(n(88),n(50)),I=n.n(_),U=function(e){return r.a.createElement("div",{className:"future-card"},r.a.createElement("div",null,"Mon 21"),r.a.createElement("img",{src:I.a,alt:"weather Image"}),r.a.createElement("div",null,"38\xb0"),r.a.createElement("div",null,"27\xb0"))},K=n(23),H=n.n(K);H.a.pluginService.register({beforeRender:function(e){e.config.options.showAllTooltips&&(e.pluginTooltips=[],e.config.data.datasets.forEach((function(t,n){e.getDatasetMeta(n).data.forEach((function(t,n){e.pluginTooltips.push(new H.a.Tooltip({_chart:e.chart,_chartInstance:e,_data:e.data,_options:e.options.tooltips,_active:[t]},e))}))})),e.options.tooltips.enabled=!1)},afterDraw:function(e,t){if(e.config.options.showAllTooltips){if(!e.allTooltipsOnce){if(1!==t)return;e.allTooltipsOnce=!0}e.options.tooltips.enabled=!0,H.a.helpers.each(e.pluginTooltips,(function(e){e.initialize(),e.update(),e.pivot(),e.transition(t).draw()})),e.options.tooltips.enabled=!1}}});var J=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){var e=t.current.getContext("2d");e.canvas.height="120",new H.a(e,{type:"line",data:{labels:["1 AM","4 AM","7 AM","10 AM","1 PM","4 PM","7 PM","10 PM"],datasets:[{data:[31,30,37,30,30,33,37,35],backgroundColor:"#fef9cc",borderColor:"#fbe000",borderWidth:1}]},options:{showAllTooltips:!0,maintainAspectRatio:!1,responsive:!0,layout:{padding:{left:0,right:0,top:0,bottom:0}},tooltips:{backgroundColor:"white",caretSize:0,bodyFontSize:14,bodyFontColor:"#666",displayColors:!1,yAlign:"bottom",yPadding:0,caretPadding:6,callbacks:{title:function(e,t){return""}}},legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1},ticks:{fontColor:"#666"}}],yAxes:[{display:!1,ticks:{beginAtZero:!0,suggestedMax:50,stepSize:1}}]}}})})),r.a.createElement("div",null,r.a.createElement("canvas",{id:"areaChart",ref:t}))},Y=function(e){e.list;var t=[1,2,3,4,5,6,7,8,9,10].map((function(e){return r.a.createElement(R.a,{key:e,eventKey:"tab-".concat(e),title:r.a.createElement(U,null)},r.a.createElement("div",{className:"chart"},r.a.createElement(J,null)))}));return r.a.createElement("div",{className:"future-weather"},r.a.createElement(L.a,{defaultActiveKey:"tab-1",transition:!1,bsPrefix:"nv",variant:"weather-tabs"},t))},Z=(n(94),function(){return r.a.createElement("div",{className:"detailed"},r.a.createElement("a",{href:"https://openweathermap.org/",target:"_blank"},"Detailed forecast")," \xb7 Data from OpenWeather")}),G=function(e){var t=e.data;return r.a.createElement("div",{className:"card"},r.a.createElement(T,{city:t.city}),r.a.createElement(F,{currentWeather:t.list[0]}),r.a.createElement(D,{description:t.list[0].weather[0].description,dt:t.list[0].dt,timezone:t.city.timezone}),r.a.createElement(Y,{list:t.list}),r.a.createElement(Z,null))},X=(n(95),function(){return r.a.createElement("h1",{id:"app-title"},"OpenWeather App")}),q=(n(96),function(){return r.a.createElement("div",{className:"help-text"},r.a.createElement("p",null,r.a.createElement("strong",null," Search engine is very flexible. How it works:"),r.a.createElement("br",null),"To make it more precise put the city's name, comma, 2-letter country code (ISO3166). You will get all proper cities in chosen country. The order is important - the first is city name then comma then country. Example - London, GB or New York, US."))}),Q=n(105);function V(e,t,n){var a=function(e,t){var n;return n=null===t?"?q=".concat(e):"?lat=".concat(t.lat,"&lon=").concat(t.lng,"&exclude=minutely,hourly,alerts"),"".concat(n,"&appid=").concat("06e049b7e07cd7c2f35f0fc665d48535","&units=metric&lang=en")}(t,n);return"".concat("https://api.openweathermap.org/data/2.5/").concat(e).concat(a)}function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(s.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},a=V("forecast",null,t),r=V("onecall",null,t),e.next=5,Promise.all([fetch(a).then((function(e){return e.json()})),fetch(r).then((function(e){return e.json()}))]).then((function(e){n.threeFive=e[0],n.oneCall=e[1]})).catch((function(e){console.log("fetch ERROR: ",e)}));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(s.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},a=V("forecast",t,null),e.next=4,fetch(a);case 4:if(!(r=e.sent).ok){e.next=10;break}return e.next=8,r.json().then(function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={lat:t.city.coord.lat,lng:t.city.coord.lon},r=V("onecall",null,a),e.next=4,fetch(r);case 4:if(!(c=e.sent).ok){e.next=8;break}return e.next=8,c.json().then((function(e){n.threeFive=t,n.oneCall=e,n.ok=!0}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("fetch city ERROR: ",e)}));case 8:e.next=12;break;case 10:return e.next=12,r.json().then((function(e){n.ok=!1,n.error=e}));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(97);var ne=function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)({}),i=Object(m.a)(o,2),f=i[0],d=i[1],h=Object(a.useState)({}),p=Object(m.a)(h,2),v=p[0],g=p[1];Object(a.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={lat:t.coords.latitude,lon:t.coords.longitude},c(!0),$(n).then((function(e){g(Object(u.a)({},e)),c(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("Use Effect 1 fired!")}),[]);var E={fetchByCity:function(e){console.log("city Searching... ",e),c(!0),function(e){return te.apply(this,arguments)}(e).then((function(e){e.ok?g(Object(u.a)({},e)):d(Object(u.a)({},e.error)),c(!1)}))},fetchByCoords:function(e){console.log("coords Searching... ",e),c(!0),$(e).then((function(e){g(Object(u.a)({},e)),c(!1)}))}};return r.a.createElement(Q.a,null,r.a.createElement("div",null,r.a.createElement(X,null),r.a.createElement(M,E),n?"Loading...":!1===w(f)?r.a.createElement("small",{style:{color:"red"}},f.message,", try using map instead."):w(v)?r.a.createElement(q,null):r.a.createElement(G,{data:v.threeFive})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(98),n(99),n(100);o.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},49:function(e,t,n){e.exports=n.p+"static/media/Night.31ba1d2d.svg"},50:function(e,t,n){e.exports=n.p+"static/media/Cloudy.3797634d.svg"},55:function(e,t,n){e.exports=n(101)},60:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){}},[[55,1,2]]]);
//# sourceMappingURL=main.5f47cabc.chunk.js.map